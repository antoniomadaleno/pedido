<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Pedido Especial</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            height: 100vh;
            overflow: hidden;
        }
        .container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: 
                radial-gradient(circle at 0% 0%, #ff0844 0%, transparent 50%),
                radial-gradient(circle at 100% 0%, #8b0000 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, #ff0844 0%, transparent 50%),
                radial-gradient(circle at 0% 100%, #8b0000 0%, transparent 50%);
            background-color: #2b0000;
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(125deg, rgba(255,255,255,0.05) 0%, transparent 40%),
                linear-gradient(45deg, transparent 60%, rgba(255,255,255,0.05) 100%);
            pointer-events: none;
        }
        .pedido1, .pedido2, .contador {
            display: none;
            position: relative;
            z-index: 1;
        }
        .pedido1.active, .pedido2.active, .contador.active {
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 1s;
        }
        .pedido-area {
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }
        .btn {
            padding: 15px 30px;
            margin: 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            transition: transform 0.3s;
        }
        .btn-sim {
            background: #2ecc71;
            color: white;
        }
        .btn-nao {
            background: #e74c3c;
            color: white;
        }
        .contador img {
            width: 300px;
            height: 300px;
            border-radius: 10px;
            margin: 20px;
            object-fit: cover;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            transition: opacity 0.5s;
        }
        .time {
            font-size: 24px;
            margin: 20px;
            text-align: center;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .heart {
            position: absolute;
            font-size: 24px;
            animation: float 3s ease-in infinite;
            pointer-events: none;
        }
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        .refresh-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            padding: 3px 6px;
            background: rgba(52, 73, 94, 0.1);
            color: rgba(255, 255, 255, 0.3);
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 10px;
        }
        .refresh-btn:hover {
            background: rgba(44, 62, 80, 0.2);
        }
        .quote {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 20px;
            max-width: 600px;
            text-align: center;
            font-style: italic;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="refresh-btn" onclick="limparCache()">↻</button>
        <div class="pedido1 active">
            <div class="pedido-area">
                <h1>Queres deixar de ser minha colega?</h1>
                <div>
                    <button class="btn btn-sim" onclick="primeiroPedido()">SIM!</button>
                    <button class="btn btn-nao" id="nao-btn1" onmouseover="fugir(this)">Não</button>
                </div>
            </div>
        </div>
        <div class="pedido2">
            <div class="pedido-area">
                <h1>Queres ser minha namorada?</h1>
                <div>
                    <button class="btn btn-sim" onclick="segundoPedido()">SIM!</button>
                    <button class="btn btn-nao" id="nao-btn2" onmouseover="fugir(this)">Não</button>
                </div>
            </div>
        </div>
        <div class="contador">
            <img src="foto1.jpg" alt="Casal" id="casal-img">
            <h2>Tempo Oficialmente Juntos</h2>
            <div class="time" id="contador"></div>
            <div class="quote">
                "Ia para te pedir no fim de semana que íamos passar juntos,
                 mas pelas circunstâncias da vida, não será possível nos próximos tempos. 
                 Perante todo este tempo (tão intenso) que já passamos juntos, 
                 achei que se poderia antecipar um pouco a minha ideia antes de ficar 
                 umas semanas/meses de rabinho para o ar. Gosto muito de ti. 
                 Obrigado por me fazeres tão feliz! ❤️"
            </div>
        </div>
    </div>

    <script>
        let startDate;
        let imageToggle = true;

        function alternarImagem() {
            const img = document.getElementById('casal-img');
            imageToggle = !imageToggle;
            img.style.opacity = '0';
            
            setTimeout(() => {
                img.src = imageToggle ? 'foto1.jpg' : 'foto2.jpg';
                img.style.opacity = '1';
            }, 500);
        }

        function fugir(btn) {
            const maxX = 200;
            const maxY = 100;
            
            const randomX = (Math.random() * maxX) - maxX/2;
            const randomY = (Math.random() * maxY);
            
            btn.style.position = 'relative';
            btn.style.transform = `translate(${randomX}px, ${randomY}px)`;
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '❤️';
            heart.style.left = Math.random() * window.innerWidth + 'px';
            heart.style.top = window.innerHeight + 'px';
            document.body.appendChild(heart);
            
            setTimeout(() => heart.remove(), 3000);
        }

        function primeiroPedido() {
            document.querySelector('.pedido1').classList.remove('active');
            document.querySelector('.pedido2').classList.add('active');
            document.querySelectorAll('.btn-nao').forEach(btn => {
                btn.style.position = '';
                btn.style.transform = '';
            });
        }

        function segundoPedido() {
            startDate = new Date();
            
            // Criar conteúdo para o arquivo
            const dateContent = `const startDate = new Date('${startDate.toISOString()}');`;
            
            // Criar um blob com o conteúdo
            const blob = new Blob([dateContent], { type: 'text/plain' });
            
            // Criar link para download
            const downloadLink = document.createElement('a');
            downloadLink.download = 'startDate.txt';
            downloadLink.href = window.URL.createObjectURL(blob);
            downloadLink.style.display = 'none';
            
            // Adicionar à página e clicar automaticamente
            document.body.appendChild(downloadLink);
            downloadLink.click();
            
            // Limpar
            document.body.removeChild(downloadLink);
            window.URL.revokeObjectURL(downloadLink.href);
            
            // Continuar com o resto do código
            document.querySelector('.pedido2').classList.remove('active');
            document.querySelector('.contador').classList.add('active');
            
            for(let i = 0; i < 30; i++) {
                setTimeout(createHeart, i * 100);
            }

            atualizarContador();
            setInterval(atualizarContador, 1000);
            setInterval(alternarImagem, 2000);
        }

        function limparCache() {
            location.reload();
        }

        function atualizarContador() {
            const agora = new Date();
            const diff = agora - startDate;
            
            const anos = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
            const meses = Math.floor((diff % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24 * 30));
            const dias = Math.floor((diff % (1000 * 60 * 60 * 24 * 30)) / (1000 * 60 * 60 * 24));
            const minutos = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60));
            const segundos = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('contador').textContent = 
                `${anos} anos, ${meses} meses, ${dias} dias, ${minutos} minutos, ${segundos} segundos`;
        }
    </script>
</body>
</html>